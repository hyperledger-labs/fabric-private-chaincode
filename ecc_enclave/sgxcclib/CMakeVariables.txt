# Copyright 2019 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0

SET(ECC_ATTESTATION_TYPE "$ENV{ECC_ATTESTATION_TYPE}")

IF("$ENV{ECC_ATTESTATION_TYPE} " STREQUAL " ")
    #default attestation flag is "epid_unlinkable"
    SET(SGX_ATTESTATION_FLAG "-DUSE_EPID_UNLINKABLE")
ELSE()
    IF("${ECC_ATTESTATION_TYPE} " STREQUAL "epid_linkable ")
        SET(SGX_ATTESTATION_FLAG "-DUSE_EPID_LINKABLE")
    ELSEIF("${ECC_ATTESTATION_TYPE} " STREQUAL "epid_unlinkable ")
        SET(SGX_ATTESTATION_FLAG "-DUSE_EPID_UNLINKABLE")
    ELSE()
        message(FATAL_ERROR "if set, ECC_ATTESTATION_TYPE must be 'epid_linkable' or 'epid_unlinkable'")
    ENDIF()
ENDIF()

